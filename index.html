<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HexMap Viewer</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Uncial+Antiqua&family=Cinzel:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <h1>HexMap Viewer</h1>
        <nav>
            <button id="fog-of-war-toggle" class="fog-toggle">Fog of War: Off</button>
            <a href="settings.html" class="settings-link">Settings</a>
            <button id="help-button" class="help-button">Help</button>
        </nav>
    </header>
    
    <main class="split-layout">
        <div class="map-section">
            <div id="starting-point-prompt" class="starting-point-prompt" style="display: none;">
                <h3>üó∫Ô∏è Unexplored Territory</h3>
                <p>This map is completely unexplored. Set your starting point to begin your adventure!</p>
                <a href="settings.html#exploration-mode" class="primary-link">Set Starting Point</a>
            </div>
            <div id="map-container">
                <svg id="hex-grid" viewBox="0 0 800 800"></svg>
            </div>
        </div>
        
        <div class="info-section">
            <div class="hex-info-panel">
                <h2>Hex Information</h2>
                <div id="selected-hex-info" class="selected-hex">
                    <p class="no-selection">Click a hex to view information</p>
                </div>
                
                <div id="hex-details" class="hex-details" style="display: none;">
                    <div class="detail-group">
                        <label>Coordinates:</label>
                        <span id="hex-coords">-</span>
                    </div>
                    <div class="detail-group">
                        <button id="explore-hex" class="primary">Explore!</button>
                        <small id="exploration-status">Click to explore this hex and reveal its neighbors</small>
                    </div>
                    <div class="detail-group">
                        <label>Biome:</label>
                        <select id="hex-biome">
                            <option value="Unexplored">Unexplored</option>
                            <option value="Forest">Forest</option>
                            <option value="Plains">Plains</option>
                            <option value="Mountains">Mountains</option>
                            <option value="Hills">Hills</option>
                            <option value="Swamp">Swamp</option>
                            <option value="Desert">Desert</option>
                            <option value="Ocean">Ocean</option>
                            <option value="River">River</option>
                        </select>
                    </div>
                    <div class="detail-group">
                        <label>Feature:</label>
                        <input type="text" id="hex-feature" placeholder="e.g., Ruins, Town, Cave">
                    </div>
                    <div class="detail-group">
                        <label>Notes:</label>
                        <textarea id="hex-notes" rows="3" placeholder="Add your notes here..."></textarea>
                    </div>
                    <div class="detail-actions">
                        <button id="save-hex">Save Changes</button>
                    </div>
                </div>
                
                <div class="neighbors-section">
                    <h3>Neighboring Hexes</h3>
                    <div id="neighbors-grid" class="neighbors-grid">
                        <!-- Neighbors will be populated here -->
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Help Modal -->
    <div id="help-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üó∫Ô∏è HexMap Viewer Help</h2>
                <button class="modal-close" id="help-close">&times;</button>
            </div>
            <div class="modal-body">
                <section class="help-section">
                    <h3>üéÆ Basic Usage</h3>
                    <ul>
                        <li><strong>Click a hex</strong> to view and edit its information</li>
                        <li><strong>Edit biome, features, and notes</strong> in the right panel</li>
                        <li><strong>Click "Explore!"</strong> to mark a hex as explored and generate neighbors</li>
                        <li><strong>Use neighboring hexes</strong> to navigate around the map</li>
                    </ul>
                </section>
                
                <section class="help-section">
                    <h3>üå´Ô∏è Fog of War</h3>
                    <ul>
                        <li><strong>Toggle button</strong> in header turns fog of war on/off</li>
                        <li><strong>When ON:</strong> Only explored hexes and their neighbors are visible</li>
                        <li><strong>When OFF:</strong> All hexes are visible (traditional map mode)</li>
                        <li><strong>Exploration Mode:</strong> Perfect for discovering new territories</li>
                    </ul>
                </section>
                
                <section class="help-section">
                    <h3>üéØ Starting Your Exploration</h3>
                    <ul>
                        <li><strong>Go to Settings</strong> ‚Üí Exploration Mode section</li>
                        <li><strong>Roll 2d12:</strong> Random starting coordinates</li>
                        <li><strong>Quick Edge Selection:</strong> Choose corners/edges of the map</li>
                        <li><strong>Manual Entry:</strong> Type specific coordinates (1-12)</li>
                        <li><strong>Set Starting Point:</strong> Generates starting hex + neighbors</li>
                    </ul>
                </section>
                
                <section class="help-section">
                    <h3>‚öôÔ∏è Settings Features</h3>
                    <ul>
                        <li><strong>Map Management:</strong> Create, rename, delete, and switch maps</li>
                        <li><strong>Random Generator:</strong> Create full maps with seeds and density controls</li>
                        <li><strong>Import/Export:</strong> Backup and share your maps as JSON files</li>
                        <li><strong>Exploration Mode:</strong> Set starting points for discovery-based gameplay</li>
                    </ul>
                </section>
                
                <section class="help-section">
                    <h3>üóÉÔ∏è Data & Storage</h3>
                    <ul>
                        <li><strong>Auto-Save:</strong> All changes save automatically to your browser</li>
                        <li><strong>Multiple Maps:</strong> Create and manage different map projects</li>
                        <li><strong>Export Backups:</strong> Download JSON files of your maps</li>
                        <li><strong>Import Maps:</strong> Load maps from JSON files</li>
                    </ul>
                </section>
                
                <section class="help-section">
                    <h3>üé≤ Pro Tips</h3>
                    <ul>
                        <li><strong>Neighbor Navigation:</strong> Click neighbor hexes to quickly move around</li>
                        <li><strong>Biome Clustering:</strong> Generated neighbors tend to match explored biomes</li>
                        <li><strong>Feature Variety:</strong> Each biome has unique features to discover</li>
                        <li><strong>Seed Maps:</strong> Use the same seed to recreate identical random maps</li>
                    </ul>
                </section>
            </div>
        </div>
    </div>

    <script src="js/main.js"></script>
</body>
</html>